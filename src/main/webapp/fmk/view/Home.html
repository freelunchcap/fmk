<div class="home">

  <div class="row">
    <div class="col-md-2">
      <div class="pull-right">
        <div>
          <select ng-model="targetAccount"
                  ng-options="login.username group by login.server for login in historyLogins"></select>
          <a class="btn btn-primary btn-xs" ng-click="switchAccount(targetLogin)" ng-disabled="targetAccount == currentAccount">{{'SWITCH' | translate}}</a>
        </div>
        <div>
          <a class="btn btn-success btn-xs" ng-click="useDifferentAccount()">{{'OTHER_ACCOUNT' | translate}}</a>
        </div>
        <tools-panel></tools-panel>
      </div>
    </div>
    <div class="col-md-5">

      <tabset>

        <tab>
          <tab-heading>
            {{'USER' | translate}}
          </tab-heading>
          <user-tab></user-tab>
        </tab>

        <tab select="loadMazes()">
          <tab-heading>
            {{'MAZE' | translate}}
          </tab-heading>
          <maze-tab mazes="mazes" userinfo="userinfo"></maze-tab>
        </tab>

        <tab class="friends">
          <tab-heading>
            {{'FRIENDS' | translate}}
          </tab-heading>
          <a class="btn btn-primary" ng-click="list()">list</a>

          <div class="friends-list">
            <table class="table table-condensed">
              <thead>
              <tr>
                <th class="col-md-1">#</th>
                <th class="col-md-2">{{'NICKNAME' | translate}}</th>
                <th class="col-md-1">{{'LEVEL' | translate}}</th>
                <th class="col-md-2">{{'LAST_LOGIN' | translate}}</th>
                <th class="col-md-1">{{'RANK' | translate}}</th>
                <th class="col-md-3">{{'LEGION' | translate}}</th>
                <th class="col-md-2">{{'ENERGY' | translate}}</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="(index, friend) in friends" ng-click="view(friend)">
                <td>{{index}}</td>
                <td>{{friend.NickName}}</td>
                <td>{{friend.Level}}</td>
                <td>{{friend.LastLogin}}</td>
                <td>{{friend.Rank}}</td>
                <td>{{friend.LegionName}}</td>
                <td>
                  <a class="btn btn-xs btn-success" ng-click="claimEnergy(friend.Uid)" ng-disabled="friend.FEnergySurplus == 0">{{'CLAIM' | translate}}</a>
                  <a class="btn btn-xs btn-danger" ng-click="sendEnergy(friend.Uid)" ng-disabled="friend.FEnergySend == 0">{{'SEND' | translate}}</a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </tab>

        <tab>
          <tab-heading>
            {{'COUNTER_ATTACKS' | translate}}
          </tab-heading>
        </tab>

        <tab>
          <tab-heading>
            {{'DUNGEON' | translate}}
          </tab-heading>
        </tab>

        <tab>
          <tab-heading>
            {{'ARENA' | translate}}
          </tab-heading>
        </tab>

      </tabset>
    </div>
    <div class="col-md-5">
      <console-logger logs="logs"></console-logger>
    </div>
  </div>

</div>